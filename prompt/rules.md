### **二、 开发与协作规范**

这部分是您提出的最重要的协作规则，涵盖了从代码编写到问题解决的整个流程，严格遵循“方案设计 -> 代码实现 -> 调试验收”。

#### **1. 代码生成规范**

*   **必须提供完整代码**：每次输出的代码文件都必须是全量的、完整的。
*   **禁止省略**：严禁使用“和之前一样”、“无需改动”等省略性描述。
*   **处理大文件**：如果一个文件过大，无法在一次会话中输出，可以拆分为多次会话，但每次输出都必须是独立、完整的文件。
*   **禁止使用记忆**：必须基于最新的代码进行开发，严禁引用AI自己记忆中（可能已过时或不相关）的代码。
*    文件巨大，需要按逻辑拆分不同文件，不常修改的代码单独形成文件

#### **2. 故障排查原则**

*   **严禁猜测**：分析问题必须有理有据，不允许猜测。
*   **日志驱动**：在没有明确原因时，必须通过增加日志来定位问题，用日志证据来支撑结论。
*   **先分析，后编码**：在找到问题的确切原因并确定解决方案之前，严禁输出任何代码。在我确后，再生成代码。
*   **专注当前问题**：一次只解决一个故障，不要引入与当前问题无关的优化、重构或其他代码修改。

#### **3. 工作流程与方法论**

*   **分步执行**：严格遵循“一步只解决一个问题”的原则（一个功能、一个故障或一个编译错误）。
*   **验证闭环**：每完成一步，都需要进行验证。只有在当前问题确认解决后，才能进入下一步。
*   **方案先行**：在进行代码修改前，必须先提出方案。方案（如代码优化或重构）需要得到用户同意后才能实施。
*   **禁止擅自修改**：严禁在未达成共识的情况下修改代码。

---

**总结：**

您的要求可以概括为一套非常严谨、清晰的敏捷开发与协作流程。核心思想是：**基于证据、分步迭代、严格对标、确认后行**。这套规范确保了开发过程的可控性、代码质量以及与您的目标高度一致。

**补充：**
一次只修改一个文件，新文件给出全量文件， 局部修改，有明显标识， 一个文件多处修改 按n/m的方式编号；方便我合入。 新代码输出前，先走查，不要有编译错误；输出后，再次走查，检查有没有编译错误。

好的，开始吧，一次只修改一个文件，新文件给出全量文件， 局部修改，有明显标识， 一个文件多处修改 按n/m的方式编号；方便我合入。 新代码输出前，先走查，不要有编译错误；输出后，再次走查，检查有没有编译错误。